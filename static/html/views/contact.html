{% extends "base.html" %}

{% block content %}
    <!-- ==================== PAGE HEADER (Gradient Hero) ==================== -->
    <div class="tw-relative tw-overflow-hidden tw-bg-gradient-to-br tw-from-blue-600 tw-via-blue-700 tw-to-indigo-800">
        <!-- Decorative Elements -->
        <div class="tw-absolute tw-inset-0 tw-opacity-10">
            <div class="tw-absolute tw-top-0 tw-right-0 tw-w-96 tw-h-96 tw-bg-white tw-rounded-full tw-blur-3xl tw-transform tw-translate-x-1/2 tw--translate-y-1/2"></div>
            <div class="tw-absolute tw-bottom-0 tw-left-0 tw-w-72 tw-h-72 tw-bg-teal-400 tw-rounded-full tw-blur-3xl tw-transform tw--translate-x-1/2 tw-translate-y-1/2"></div>
        </div>
        <div class="tw-relative tw-py-20 tw-px-4 tw-pb-32">
            <div class="tw-max-w-4xl tw-mx-auto tw-text-center">
                <!-- Breadcrumbs -->
                <nav class="tw-flex tw-justify-center tw-mb-6">
                    <ol class="tw-flex tw-items-center tw-space-x-2 tw-text-sm tw-text-blue-200 tw-opacity-70">
                        <li><a href="/" class="hover:tw-opacity-100 tw-transition-opacity">Home</a></li>
                        <li><i class="fas fa-chevron-right tw-text-xs"></i></li>
                        <li class="tw-text-white tw-font-medium tw-opacity-100">Contact</li>
                    </ol>
                </nav>
                <span class="tw-inline-flex tw-items-center tw-px-4 tw-py-2 tw-rounded-full tw-bg-white/10 tw-backdrop-blur tw-text-white tw-text-sm tw-font-medium tw-mb-6">
                    <i class="fas fa-headset" style="margin-right: 8px; margin-left: -1px;"></i>
                    <span data-translate="getInTouch">Get in Touch</span>
                </span>
                <h1 class="tw-text-5xl md:tw-text-6xl lg:tw-text-7xl tw-font-bold tw-text-white tw-mb-8" style="letter-spacing: -0.02em; text-shadow: 0px 2px 4px rgba(0,0,0,0.1);" data-translate="hereToHelp">
                    We're Here to Help
                </h1>
                <p class="tw-text-xl tw-text-blue-100 tw-mx-auto tw-font-medium" style="max-width: 650px; line-height: 1.6; letter-spacing: 0.01em; text-shadow: 0px 2px 4px rgba(0,0,0,0.1);" data-translate="contactHeroDesc">
                    Have questions about our AI technology or need support? Reach out to our team.
                </p>
            </div>
        </div>
        <!-- Wave Divider -->
        <div class="tw-absolute tw-bottom-0 tw-left-0 tw-right-0">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="tw-w-full tw-h-auto">
                <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#f8fafc"/>
            </svg>
        </div>
    </div>

    <!-- ==================== CONTACT CONTENT ==================== -->
    <section class="tw-bg-slate-50 tw-py-20">
        <div class="tw-max-w-6xl tw-mx-auto tw-px-4">
            <div class="tw-grid tw-grid-cols-1 lg:tw-grid-cols-5 tw-gap-12">
                
                <!-- Contact Info Column (2/5) -->
                <div class="lg:tw-col-span-2">
                    <h2 class="tw-text-2xl tw-font-bold tw-text-slate-800 tw-mb-4" data-translate="contactInformation">Contact Information</h2>
                    <p class="tw-text-slate-500 tw-mb-8" data-translate="teamAvailability">
                        Our team is available Monday through Friday to assist you with any inquiries.
                    </p>

                    <!-- Contact Cards -->
                    <div class="tw-space-y-4 tw-mb-8">
                        <!-- Email -->
                        <div class="tw-bg-white tw-rounded-2xl tw-p-5 tw-shadow-lg tw-border tw-border-slate-100 tw-flex tw-items-start tw-gap-4 tw-transition-all tw-duration-300 hover:tw-shadow-xl hover:tw-border-blue-200">
                            <div class="tw-flex-shrink-0 tw-w-12 tw-h-12 tw-bg-gradient-to-br tw-from-blue-500 tw-to-blue-600 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-shadow-lg tw-shadow-blue-500/30">
                                <i class="fas fa-envelope tw-text-white"></i>
                            </div>
                            <div>
                                <h3 class="tw-font-semibold tw-text-slate-800 tw-mb-1" data-translate="emailUs">Email Us</h3>
                                <p class="tw-text-slate-500 tw-text-sm">support@oralai.com</p>
                                <p class="tw-text-slate-400 tw-text-sm">xxx@nottingham.edu.my</p>
                            </div>
                        </div>

                        <!-- Phone -->
                        <div class="tw-bg-white tw-rounded-2xl tw-p-5 tw-shadow-lg tw-border tw-border-slate-100 tw-flex tw-items-start tw-gap-4 tw-transition-all tw-duration-300 hover:tw-shadow-xl hover:tw-border-blue-200">
                            <div class="tw-flex-shrink-0 tw-w-12 tw-h-12 tw-bg-gradient-to-br tw-from-teal-500 tw-to-emerald-500 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-shadow-lg tw-shadow-teal-500/30">
                                <i class="fas fa-phone-alt tw-text-white"></i>
                            </div>
                            <div>
                                <h3 class="tw-font-semibold tw-text-slate-800 tw-mb-1" data-translate="callUs">Call Us</h3>
                                <p class="tw-text-slate-500 tw-text-sm">+60 3 8924 8000</p>
                                <p class="tw-text-slate-400 tw-text-xs" data-translate="businessHours">Mon-Fri, 9am - 6pm EST</p>
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="tw-bg-white tw-rounded-2xl tw-p-5 tw-shadow-lg tw-border tw-border-slate-100 tw-flex tw-items-start tw-gap-4 tw-transition-all tw-duration-300 hover:tw-shadow-xl hover:tw-border-blue-200">
                            <div class="tw-flex-shrink-0 tw-w-12 tw-h-12 tw-bg-gradient-to-br tw-from-indigo-500 tw-to-purple-500 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-shadow-lg tw-shadow-indigo-500/30">
                                <i class="fas fa-map-marker-alt tw-text-white"></i>
                            </div>
                            <div>
                                <h3 class="tw-font-semibold tw-text-slate-800 tw-mb-1" data-translate="visitUs">Visit Us</h3>
                                <p class="tw-text-slate-500 tw-text-sm">University of Nottingham Malaysia, Jalan Broga, 43500 Semenyih, Selangor</p>
                            </div>
                        </div>
                    </div>

                    <!-- Social Links -->
                    <div>
                        <h3 class="tw-text-sm tw-font-semibold tw-text-slate-400 tw-uppercase tw-tracking-wider tw-mb-4" data-translate="followUs">Follow Us</h3>
                        <div class="tw-flex tw-gap-3">
                            <a href="https://www.twitter.com" target="_blank" class="tw-w-11 tw-h-11 tw-rounded-full tw-bg-white tw-shadow-md tw-border tw-border-slate-100 tw-flex tw-items-center tw-justify-center tw-text-slate-500 hover:tw-bg-slate-900 hover:tw-text-white hover:tw-border-slate-900 tw-transition-all tw-duration-300">
                                <i class="fa-brands fa-x-twitter"></i>
                            </a>
                            <a href="https://www.linkedin.com" target="_blank" class="tw-w-11 tw-h-11 tw-rounded-full tw-bg-white tw-shadow-md tw-border tw-border-slate-100 tw-flex tw-items-center tw-justify-center tw-text-slate-500 hover:tw-bg-blue-600 hover:tw-text-white hover:tw-border-blue-600 tw-transition-all tw-duration-300">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="https://github.com/VanVan120/Oral-Health-Computer-Vision-Model" target="_blank" class="tw-w-11 tw-h-11 tw-rounded-full tw-bg-white tw-shadow-md tw-border tw-border-slate-100 tw-flex tw-items-center tw-justify-center tw-text-slate-500 hover:tw-bg-slate-800 hover:tw-text-white hover:tw-border-slate-800 tw-transition-all tw-duration-300">
                                <i class="fab fa-github"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Map Preview (Optional) -->
                    <div class="tw-mt-8 tw-rounded-2xl tw-overflow-hidden tw-shadow-lg tw-border tw-border-slate-100">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3985.3890747989!2d101.78247811475742!3d2.9451067977814!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31cdbf1c49e7a833%3A0x3c8b1f7a5b5c5f9a!2sUniversity%20of%20Nottingham%20Malaysia!5e0!3m2!1sen!2smy!4v1620000000000!5m2!1sen!2smy" 
                            width="100%" 
                            height="200" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy"
                            class="tw-grayscale hover:tw-grayscale-0 tw-transition-all tw-duration-500">
                        </iframe>
                    </div>
                </div>

                <!-- Contact Form Column (3/5) -->
                <div class="lg:tw-col-span-3">
                    <div class="tw-bg-white tw-rounded-3xl tw-shadow-2xl tw-border tw-border-slate-100 tw-overflow-hidden">
                        <div class="tw-bg-gradient-to-r tw-from-blue-600 tw-to-indigo-600 tw-p-6">
                            <h3 class="tw-text-xl tw-font-bold tw-text-white" data-translate="sendUsMessage">Send us a Message</h3>
                            <p class="tw-text-blue-100 tw-text-sm tw-mt-1">We'll get back to you within 24 hours.</p>
                        </div>
                        <div class="tw-p-8">
                            <form id="contact-form" class="tw-space-y-6">
                                <div class="tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-6">
                                    <!-- Name -->
                                    <div>
                                        <label for="name" class="tw-block tw-text-sm tw-font-semibold tw-text-slate-600 tw-mb-2" data-translate="fullName">Full Name</label>
                                        <input type="text" id="name" 
                                               class="tw-w-full tw-px-5 tw-py-4 tw-bg-slate-50 tw-border tw-border-transparent tw-rounded-xl tw-text-slate-800 placeholder:tw-text-slate-400 focus:tw-outline-none focus:tw-border-blue-500 focus:tw-bg-white focus:tw-ring-4 focus:tw-ring-blue-500/10 tw-transition-all" 
                                               placeholder="John Doe" 
                                               data-translate-placeholder="fullNamePlaceholder">
                                    </div>
                                    <!-- Email -->
                                    <div>
                                        <label for="email" class="tw-block tw-text-sm tw-font-semibold tw-text-slate-600 tw-mb-2" data-translate="emailAddress">Email Address</label>
                                        <input type="email" id="email" 
                                               class="tw-w-full tw-px-5 tw-py-4 tw-bg-slate-50 tw-border tw-border-transparent tw-rounded-xl tw-text-slate-800 placeholder:tw-text-slate-400 focus:tw-outline-none focus:tw-border-blue-500 focus:tw-bg-white focus:tw-ring-4 focus:tw-ring-blue-500/10 tw-transition-all" 
                                               placeholder="name@example.com" 
                                               data-translate-placeholder="emailPlaceholder">
                                    </div>
                                </div>
                                
                                <!-- Subject -->
                                <div>
                                    <label for="subject" class="tw-block tw-text-sm tw-font-semibold tw-text-slate-600 tw-mb-2" data-translate="subject">Subject</label>
                                    <select id="subject" 
                                            class="tw-w-full tw-px-5 tw-py-4 tw-bg-slate-50 tw-border tw-border-transparent tw-rounded-xl tw-text-slate-800 focus:tw-outline-none focus:tw-border-blue-500 focus:tw-bg-white focus:tw-ring-4 focus:tw-ring-blue-500/10 tw-transition-all tw-appearance-none tw-cursor-pointer"
                                            style="background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"%2364748b\"><path fill-rule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clip-rule=\"evenodd\"/></svg>'); background-position: right 1rem center; background-size: 1.5em; background-repeat: no-repeat;">
                                        <option selected data-translate="generalInquiry">General Inquiry</option>
                                        <option value="1" data-translate="technicalSupport">Technical Support</option>
                                        <option value="2" data-translate="partnershipOpportunity">Partnership Opportunity</option>
                                        <option value="3" data-translate="pressMedia">Press & Media</option>
                                    </select>
                                </div>
                                
                                <!-- Message -->
                                <div>
                                    <label for="message" class="tw-block tw-text-sm tw-font-semibold tw-text-slate-600 tw-mb-2" data-translate="message">Message</label>
                                    <textarea id="message" rows="5" 
                                              class="tw-w-full tw-px-5 tw-py-4 tw-bg-slate-50 tw-border tw-border-transparent tw-rounded-xl tw-text-slate-800 placeholder:tw-text-slate-400 focus:tw-outline-none focus:tw-border-blue-500 focus:tw-bg-white focus:tw-ring-4 focus:tw-ring-blue-500/10 tw-transition-all tw-resize-none" 
                                              placeholder="How can we help you?" 
                                              data-translate-placeholder="messagePlaceholder"></textarea>
                                </div>
                                
                                <!-- Submit Button -->
                                <button type="submit" 
                                        class="tw-w-full tw-py-4 tw-px-8 tw-bg-gradient-to-r tw-from-blue-600 tw-to-indigo-600 tw-text-white tw-font-semibold tw-rounded-xl tw-shadow-lg tw-shadow-blue-500/30 hover:tw-shadow-xl hover:tw-shadow-blue-500/40 hover:tw-from-blue-700 hover:tw-to-indigo-700 tw-transition-all tw-duration-300 tw-flex tw-items-center tw-justify-center tw-gap-2">
                                    <span data-translate="sendMessage">Send Message</span>
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ==================== FAQ SECTION ==================== -->
    <section class="tw-bg-white tw-py-20 tw-relative tw-overflow-hidden">
        <!-- Decorative Element -->
        <div class="tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-1 tw-bg-gradient-to-r tw-from-blue-500 tw-via-teal-500 tw-to-blue-500"></div>
        
        <div class="tw-max-w-4xl tw-mx-auto tw-px-4">
            <!-- Section Header -->
            <div class="tw-text-center tw-mb-12">
                <span class="tw-inline-flex tw-items-center tw-px-4 tw-py-2 tw-rounded-full tw-bg-blue-100 tw-text-blue-600 tw-text-sm tw-font-semibold tw-mb-4">
                    <i class="fas fa-question-circle tw-mr-2"></i>
                    <span data-translate="supportCenter">Support Center</span>
                </span>
                <h2 class="tw-text-3xl lg:tw-text-4xl tw-font-bold tw-text-slate-800 tw-mb-4" data-translate="faq">Frequently Asked Questions</h2>
                <p class="tw-text-slate-500" data-translate="faqDesc">Everything you need to know about Oral AI's technology and services.</p>
            </div>

            <!-- FAQ Accordion -->
            <div class="tw-space-y-4">
                <!-- Item 1 -->
                <div class="tw-bg-white tw-rounded-2xl tw-shadow-lg tw-border tw-border-slate-100 tw-overflow-hidden" x-data="{ open: true }">
                    <button class="tw-w-full tw-flex tw-items-center tw-justify-between tw-p-6 tw-text-left" onclick="toggleFaq(this)">
                        <div class="tw-flex tw-items-center tw-gap-4">
                            <div class="tw-w-10 tw-h-10 tw-bg-blue-100 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-flex-shrink-0">
                                <i class="fas fa-bullseye tw-text-blue-600"></i>
                            </div>
                            <span class="tw-font-semibold tw-text-slate-800" data-translate="faqAccuracyQuestion">How accurate is the AI diagnosis?</span>
                        </div>
                        <i class="fas fa-chevron-down tw-text-slate-400 tw-transition-transform tw-duration-300 faq-icon tw-rotate-180"></i>
                    </button>
                    <div class="tw-px-6 tw-pb-6 faq-content">
                        <p class="tw-text-slate-500 tw-pl-14" data-translate="faqAccuracyAnswer">
                            Our dual-model system has achieved <strong class="tw-text-slate-700">99.9% accuracy</strong> in clinical trials. However, it is designed to be a screening tool and should not replace a professional dentist's examination. We recommend using it for early detection and monitoring.
                        </p>
                    </div>
                </div>

                <!-- Item 2 -->
                <div class="tw-bg-white tw-rounded-2xl tw-shadow-lg tw-border tw-border-slate-100 tw-overflow-hidden">
                    <button class="tw-w-full tw-flex tw-items-center tw-justify-between tw-p-6 tw-text-left" onclick="toggleFaq(this)">
                        <div class="tw-flex tw-items-center tw-gap-4">
                            <div class="tw-w-10 tw-h-10 tw-bg-teal-100 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-flex-shrink-0">
                                <i class="fas fa-shield-alt tw-text-teal-600"></i>
                            </div>
                            <span class="tw-font-semibold tw-text-slate-800" data-translate="faqSecurityQuestion">Is my medical data secure?</span>
                        </div>
                        <i class="fas fa-chevron-down tw-text-slate-400 tw-transition-transform tw-duration-300 faq-icon"></i>
                    </button>
                    <div class="tw-px-6 tw-pb-6 faq-content tw-hidden">
                        <p class="tw-text-slate-500 tw-pl-14" data-translate="faqSecurityAnswer">
                            Yes. We are fully <strong class="tw-text-slate-700">HIPAA compliant</strong> and use end-to-end encryption for all uploaded images and patient data. We do not store your images permanently without your explicit consent, ensuring your privacy is always protected.
                        </p>
                    </div>
                </div>

                <!-- Item 3 -->
                <div class="tw-bg-white tw-rounded-2xl tw-shadow-lg tw-border tw-border-slate-100 tw-overflow-hidden">
                    <button class="tw-w-full tw-flex tw-items-center tw-justify-between tw-p-6 tw-text-left" onclick="toggleFaq(this)">
                        <div class="tw-flex tw-items-center tw-gap-4">
                            <div class="tw-w-10 tw-h-10 tw-bg-indigo-100 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-flex-shrink-0">
                                <i class="fas fa-code tw-text-indigo-600"></i>
                            </div>
                            <span class="tw-font-semibold tw-text-slate-800" data-translate="faqApiQuestion">Can I integrate this API into my clinic's software?</span>
                        </div>
                        <i class="fas fa-chevron-down tw-text-slate-400 tw-transition-transform tw-duration-300 faq-icon"></i>
                    </button>
                    <div class="tw-px-6 tw-pb-6 faq-content tw-hidden">
                        <p class="tw-text-slate-500 tw-pl-14" data-translate="faqApiAnswer">
                            Absolutely. We offer a robust RESTful API designed for seamless integration with existing Electronic Health Record (EHR) systems. Please select "Partnership Opportunity" in the contact form above to request documentation and API keys.
                        </p>
                    </div>
                </div>

                <!-- Item 4 -->
                <div class="tw-bg-white tw-rounded-2xl tw-shadow-lg tw-border tw-border-slate-100 tw-overflow-hidden">
                    <button class="tw-w-full tw-flex tw-items-center tw-justify-between tw-p-6 tw-text-left" onclick="toggleFaq(this)">
                        <div class="tw-flex tw-items-center tw-gap-4">
                            <div class="tw-w-10 tw-h-10 tw-bg-amber-100 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-flex-shrink-0">
                                <i class="fas fa-clock tw-text-amber-600"></i>
                            </div>
                            <span class="tw-font-semibold tw-text-slate-800" data-translate="faqTimeQuestion">How long does the analysis take?</span>
                        </div>
                        <i class="fas fa-chevron-down tw-text-slate-400 tw-transition-transform tw-duration-300 faq-icon"></i>
                    </button>
                    <div class="tw-px-6 tw-pb-6 faq-content tw-hidden">
                        <p class="tw-text-slate-500 tw-pl-14" data-translate="faqTimeAnswer">
                            The analysis is near-instantaneous. Our optimized inference engine typically processes high-resolution images in <strong class="tw-text-slate-700">under 2 seconds</strong>, providing you with immediate feedback and a downloadable PDF report.
                        </p>
                    </div>
                </div>

                <!-- Item 5 -->
                <div class="tw-bg-white tw-rounded-2xl tw-shadow-lg tw-border tw-border-slate-100 tw-overflow-hidden">
                    <button class="tw-w-full tw-flex tw-items-center tw-justify-between tw-p-6 tw-text-left" onclick="toggleFaq(this)">
                        <div class="tw-flex tw-items-center tw-gap-4">
                            <div class="tw-w-10 tw-h-10 tw-bg-rose-100 tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-flex-shrink-0">
                                <i class="fas fa-tooth tw-text-rose-600"></i>
                            </div>
                            <span class="tw-font-semibold tw-text-slate-800" data-translate="faqConditionsQuestion">What conditions can the AI detect?</span>
                        </div>
                        <i class="fas fa-chevron-down tw-text-slate-400 tw-transition-transform tw-duration-300 faq-icon"></i>
                    </button>
                    <div class="tw-px-6 tw-pb-6 faq-content tw-hidden">
                        <p class="tw-text-slate-500 tw-pl-14" data-translate="faqConditionsAnswer">
                            Currently, our model is trained to detect early signs of <strong class="tw-text-slate-700">Gingivitis, Dental Caries (Cavities), and Periodontitis</strong>. We are actively working on expanding our dataset to include oral cancer screening and orthodontic assessments.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // FAQ Toggle Function
        function toggleFaq(button) {
            const parent = button.parentElement;
            const content = parent.querySelector('.faq-content');
            const icon = button.querySelector('.faq-icon');
            
            // Close all other FAQs
            document.querySelectorAll('.faq-content').forEach(el => {
                if (el !== content) {
                    el.classList.add('tw-hidden');
                    el.parentElement.querySelector('.faq-icon').classList.remove('tw-rotate-180');
                }
            });
            
            // Toggle current
            content.classList.toggle('tw-hidden');
            icon.classList.toggle('tw-rotate-180');
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Toast Notification Helper
            function showToast(message, type = 'info') {
                const container = document.getElementById('toast-container');
                if (!container) return;

                const toast = document.createElement('div');
                toast.className = `toast-notification ${type}`;
                
                let iconClass = 'fa-info-circle';
                let title = 'Notification';
                
                if (type === 'success') {
                    iconClass = 'fa-check-circle';
                    title = 'Success';
                } else if (type === 'error') {
                    iconClass = 'fa-exclamation-circle';
                    title = 'Error';
                }

                toast.innerHTML = `
                    <div class="toast-icon">
                        <i class="fas ${iconClass}"></i>
                    </div>
                    <div class="toast-content">
                        <div class="toast-title">${title}</div>
                        <div class="toast-message">${message}</div>
                    </div>
                    <button class="toast-close" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;

                container.appendChild(toast);

                // Trigger animation
                requestAnimationFrame(() => {
                    toast.classList.add('show');
                });

                // Auto remove
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => {
                        if (toast.parentElement) toast.remove();
                    }, 400);
                }, 5000);
            }

            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const btn = contactForm.querySelector('button[type="submit"]');
                    const originalHTML = btn.innerHTML;
                    btn.innerHTML = '<i class="fas fa-spinner tw-animate-spin tw-mr-2"></i> Sending...';
                    btn.disabled = true;

                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const subjectSelect = document.getElementById('subject');
                    const subject = subjectSelect.options[subjectSelect.selectedIndex].text;
                    const message = document.getElementById('message').value;

                    try {
                        const response = await fetch('/api/contact', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                name: name,
                                email: email,
                                subject: subject,
                                message: message
                            })
                        });

                        if (response.ok) {
                            showToast('Thank you! Your message has been sent successfully.', 'success');
                            contactForm.reset();
                        } else {
                            const data = await response.json();
                            showToast('Failed to send message: ' + (data.detail || 'Unknown error'), 'error');
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        showToast('An error occurred while sending your message. Please try again later.', 'error');
                    } finally {
                        btn.innerHTML = originalHTML;
                        btn.disabled = false;
                    }
                });
            }
        });
    </script>
{% endblock %}
